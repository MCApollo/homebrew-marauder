{
    "name": "PerconaXtrabackup",
    "description": "Open source hot backup tool for InnoDB and XtraDB databases",
    "url": "https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.12/source/tarball/percona-xtrabackup-2.4.12.tar.gz",
    "mirror": null,
    "homepage": "https://www.percona.com/software/mysql-database/percona-xtrabackup",
    "depends": [
        {
            "depend": "cmake",
            "build-depend": true
        },
        {
            "depend": "sphinx-doc",
            "build-depend": true
        },
        {
            "depend": "libev",
            "build-depend": false
        },
        {
            "depend": "libgcrypt",
            "build-depend": false
        },
        {
            "depend": "mysql-client",
            "build-depend": false
        },
        {
            "depend": "openssl",
            "build-depend": false
        }
    ],
    "resource": [
        {
            "name": "DBI",
            "url": "https://cpan.metacpan.org/authors/id/T/TI/TIMB/DBI-1.641.tar.gz"
        },
        {
            "name": "DBD::mysql",
            "url": "https://cpan.metacpan.org/authors/id/C/CA/CAPTTOFU/DBD-mysql-4.046.tar.gz"
        },
        {
            "name": "boost",
            "url": "https://downloads.sourceforge.net/project/boost/boost/1.59.0/boost_1_59_0.tar.bz2"
        }
    ],
    "conflicts": [],
    "patches": [],
    "install": [
        "cmake_args = %w[",
        "-DBUILD_CONFIG=xtrabackup_release",
        "-DCOMPILATION_COMMENT=Homebrew",
        "-DINSTALL_MANDIR=share/man",
        "-DWITH_MAN_PAGES=ON",
        "]",
        "ENV[\"LC_ALL\"] = \"en_US.UTF-8\"",
        "(buildpath/\"boost_1_59_0\").install resource(\"boost\")",
        "cmake_args << \"-DWITH_BOOST=#{buildpath}/boost_1_59_0\"",
        "cmake_args.concat std_cmake_args",
        "system \"cmake\", *cmake_args",
        "system \"make\"",
        "system \"make\", \"install\"",
        "share.install \"share/man\"",
        "rm_rf prefix/\"xtrabackup-test\" ",
        "rm lib/\"libmysqlservices.a\"",
        "rm lib/\"plugin/keyring_file.so\"",
        "ENV.prepend_create_path \"PERL5LIB\", libexec/\"lib/perl5\"",
        "if MacOS.version >= :mojave",
        "resource(\"DBI\").stage do",
        "system \"perl\", \"Makefile.PL\", \"INSTALL_BASE=#{libexec}\"",
        "system \"make\", \"install\"",
        "end"
    ],
    "version": "2.4.12"
}