{
    "name": "Vsftpd",
    "description": "Secure FTP server for UNIX",
    "url": "https://security.appspot.com/downloads/vsftpd-3.0.3.tar.gz",
    "mirror": "https://fossies.org/linux/misc/vsftpd-3.0.3.tar.gz",
    "homepage": "https://security.appspot.com/vsftpd.html",
    "depends": [],
    "resource": [],
    "conflicts": [],
    "patches": [
        {
            "url": null,
            "data": [
                "diff --git a/sysdeputil.c b/sysdeputil.c\n",
                "index 9dc8a5e..66dbe30 100644\n",
                "--- a/sysdeputil.c\n",
                "+++ b/sysdeputil.c\n",
                "@@ -64,6 +64,10 @@\n",
                " #include <utmpx.h>\n",
                " \n",
                " /* BEGIN config */\n",
                "+#if defined(__APPLE__)\n",
                "+  #undef VSF_SYSDEP_HAVE_UTMPX\n",
                "+#endif\n",
                "+\n",
                " #if defined(__linux__)\n",
                "   #include <errno.h>\n",
                "   #include <syscall.h>\n",
                "diff --git a/vsf_findlibs.sh b/vsf_findlibs.sh\n",
                "index b988be6..68d4a34 100755\n",
                "--- a/vsf_findlibs.sh\n",
                "+++ b/vsf_findlibs.sh\n",
                "@@ -20,6 +20,8 @@ if find_func pam_start sysdeputil.o; then\n",
                "   locate_library /usr/lib/libpam.sl && echo \"-lpam\";\n",
                "   # AIX ends shared libraries with .a\n",
                "   locate_library /usr/lib/libpam.a && echo \"-lpam\";\n",
                "+  # Mac OS X / Darwin shared libraries with .dylib\n",
                "+  locate_library /usr/lib/libpam.dylib && echo \"-lpam\";\n",
                " else\n",
                "   locate_library /lib/libcrypt.so && echo \"-lcrypt\";\n",
                "   locate_library /usr/lib/libcrypt.so && echo \"-lcrypt\";\n",
                "diff --git a/Makefile b/Makefile\n",
                "index c63ed1b..556519e 100644\n",
                "--- a/Makefile\n",
                "+++ b/Makefile\n",
                "@@ -10,7 +10,7 @@ CFLAGS\t=\t-O2 -fPIE -fstack-protector --param=ssp-buffer-size=4 \\\n",
                "\n",
                " LIBS\t=\t`./vsf_findlibs.sh`\n",
                " LINK\t=\t-Wl,-s\n",
                "-LDFLAGS\t=\t-fPIE -pie -Wl,-z,relro -Wl,-z,now\n",
                "+LDFLAGS\t=\t-fPIE -pie\n",
                "\n",
                " OBJS\t=\tmain.o utility.o prelogin.o ftpcmdio.o postlogin.o privsock.o \\\n",
                "\t\ttunables.o ftpdataio.o secbuf.o ls.o \\\n"
            ]
        }
    ],
    "install": [
        "inreplace \"defs.h\", \"/etc/vsftpd.conf\", \"#{etc}/vsftpd.conf\"",
        "inreplace \"tunables.c\", \"/etc\", etc",
        "inreplace \"tunables.c\", \"/var\", var",
        "system \"make\"",
        "sbin.install \"vsftpd\"",
        "etc.install \"vsftpd.conf\"",
        "man5.install \"vsftpd.conf.5\"",
        "man8.install \"vsftpd.8\""
    ],
    "version": "3.0.3"
}