{
    "name": "SubversionAT18",
    "description": "Version control system",
    "url": "https://www.apache.org/dyn/closer.cgi?path=subversion/subversion-1.8.19.tar.bz2",
    "mirror": "https://archive.apache.org/dist/subversion/subversion-1.8.19.tar.bz2",
    "homepage": "https://subversion.apache.org/",
    "depends": [
        {
            "depend": "pkg-config",
            "build-depend": true
        },
        {
            "depend": "scons",
            "build-depend": false
        },
        {
            "depend": "apr",
            "build-depend": false
        },
        {
            "depend": "apr-util",
            "build-depend": false
        },
        {
            "depend": "openssl",
            "build-depend": false
        },
        {
            "depend": "sqlite",
            "build-depend": false
        }
    ],
    "resource": [
        {
            "name": "serf",
            "url": "https://www.apache.org/dyn/closer.cgi?path=serf/serf-1.3.9.tar.bz2"
        }
    ],
    "conflicts": [],
    "patches": [
        {
            "url": null,
            "data": [
                "diff --git a/configure b/configure\n",
                "index 445251b..6ff4332 100755\n",
                "--- a/configure\n",
                "+++ b/configure\n",
                "@@ -25366,6 +25366,8 @@ fi\n",
                " SWIG_CPPFLAGS=\"$CPPFLAGS\"\n",
                "\n",
                "   SWIG_CPPFLAGS=`echo \"$SWIG_CPPFLAGS\" | $SED -e 's/-no-cpp-precomp //'`\n",
                "+  SWIG_CPPFLAGS=`echo \"$SWIG_CPPFLAGS\" | $SED -e 's/-F\\/[^ ]* //'`\n",
                "+  SWIG_CPPFLAGS=`echo \"$SWIG_CPPFLAGS\" | $SED -e 's/-isystem\\/[^ ]* //'`\n",
                "\n",
                "\n",
                "\n",
                "diff --git a/subversion/bindings/swig/perl/native/Makefile.PL.in b/subversion/bindings/swig/perl/native/Makefile.PL.in\n",
                "index a60430b..bd9b017 100644\n",
                "--- a/subversion/bindings/swig/perl/native/Makefile.PL.in\n",
                "+++ b/subversion/bindings/swig/perl/native/Makefile.PL.in\n",
                "@@ -76,10 +76,13 @@ my $apr_ldflags = '@SVN_APR_LIBS@'\n",
                "\n",
                " chomp $apr_shlib_path_var;\n",
                "\n",
                "+my $config_ccflags = $Config{ccflags};\n",
                "+$config_ccflags =~ s/-arch\\s+\\S+//g;\n",
                "+\n",
                " my %config = (\n",
                "     ABSTRACT => 'Perl bindings for Subversion',\n",
                "     DEFINE => $cppflags,\n",
                "-    CCFLAGS => join(' ', $cflags, $Config{ccflags}),\n",
                "+    CCFLAGS => join(' ', $cflags, $config_ccflags),\n",
                "     INC  => join(' ', $includes, $cppflags,\n",
                "                  \" -I$swig_srcdir/perl/libsvn_swig_perl\",\n",
                "                  \" -I$svnlib_srcdir/include\",\n",
                "\n",
                "diff --git a/build/get-py-info.py b/build/get-py-info.py\n",
                "index 29a6c0a..dd1a5a8 100644\n",
                "--- a/build/get-py-info.py\n",
                "+++ b/build/get-py-info.py\n",
                "@@ -83,7 +83,7 @@ def link_options():\n",
                "   options = sysconfig.get_config_var('LDSHARED').split()\n",
                "   fwdir = sysconfig.get_config_var('PYTHONFRAMEWORKDIR')\n",
                "\n",
                "-  if fwdir and fwdir != \"no-framework\":\n",
                "+  if fwdir and fwdir != \"no-framework\" and sys.platform != 'darwin':\n",
                "\n",
                "     # Setup the framework prefix\n",
                "     fwprefix = sysconfig.get_config_var('PYTHONFRAMEWORKPREFIX')\n"
            ]
        }
    ],
    "install": [
        "inreplace \"Makefile.in\",",
        "\"@APXS@ -i -S LIBEXECDIR=\\\"$(APACHE_LIBEXECDIR)\\\"\",",
        "\"@APXS@ -i -S LIBEXECDIR=\\\"#{libexec.to_s.sub(\"@\", \"\\\\@\")}\\\"\"",
        "serf_prefix = libexec/\"serf\"",
        "resource(\"serf\").stage do",
        "inreplace \"SConstruct\", \"unique=1\", \"unique=0\"",
        "args = %W[PREFIX=#{serf_prefix} GSSAPI=/usr CC=#{ENV.cc}",
        "CFLAGS=#{ENV.cflags} LINKFLAGS=#{ENV.ldflags}",
        "OPENSSL=#{Formula[\"openssl\"].opt_prefix}]",
        "if MacOS.version >= :sierra || !MacOS::CLT.installed?",
        "args << \"APR=#{Formula[\"apr\"].opt_prefix}\"",
        "args << \"APU=#{Formula[\"apr-util\"].opt_prefix}\"",
        "end",
        "system \"scons\", *args",
        "system \"scons\", \"install\""
    ],
    "version": "1.8.19"
}